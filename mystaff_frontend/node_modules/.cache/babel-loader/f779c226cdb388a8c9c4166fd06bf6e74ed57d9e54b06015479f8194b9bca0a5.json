{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_form_input = _resolveComponent(\"b-form-input\");\n  const _component_b_form_group = _resolveComponent(\"b-form-group\");\n  const _component_b_form_select = _resolveComponent(\"b-form-select\");\n  const _component_b_form_file = _resolveComponent(\"b-form-file\");\n  const _component_b_form = _resolveComponent(\"b-form\");\n  const _component_b_modal = _resolveComponent(\"b-modal\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_b_button, {\n    onClick: $setup.showModal\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Add New Product\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_b_modal, {\n    id: \"add-product-modal\",\n    modelValue: $setup.isModalVisible,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.isModalVisible = $event),\n    title: \"Add New Product\",\n    onOk: $setup.handleSubmit\n  }, {\n    default: _withCtx(() => [_createVNode(_component_b_form, {\n      onSubmit: _withModifiers($setup.handleSubmit, [\"stop\", \"prevent\"])\n    }, {\n      default: _withCtx(() => [_createVNode(_component_b_form_group, {\n        label: \"Title\",\n        \"label-for\": \"product-title\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_b_form_input, {\n          id: \"product-title\",\n          modelValue: $setup.newProduct.title,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.newProduct.title = $event),\n          required: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_b_form_group, {\n        label: \"Description\",\n        \"label-for\": \"product-description\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_b_form_input, {\n          id: \"product-description\",\n          modelValue: $setup.newProduct.description,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.newProduct.description = $event),\n          required: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_b_form_group, {\n        label: \"Due Date\",\n        \"label-for\": \"product-due-date\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_b_form_input, {\n          id: \"product-due-date\",\n          modelValue: $setup.newProduct.due_date,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.newProduct.due_date = $event),\n          type: \"date\",\n          required: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_b_form_group, {\n        label: \"Status\",\n        \"label-for\": \"product-status\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_b_form_select, {\n          id: \"product-status\",\n          modelValue: $setup.newProduct.status,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.newProduct.status = $event),\n          options: $setup.statusOptions,\n          required: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"options\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_b_form_group, {\n        label: \"Video\",\n        \"label-for\": \"product-video\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_b_form_file, {\n          id: \"product-video\",\n          modelValue: $setup.videoFile,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.videoFile = $event),\n          required: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onSubmit\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"onOk\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_b_button","onClick","$setup","showModal","default","_withCtx","_createTextVNode","_","_component_b_modal","id","modelValue","isModalVisible","_cache","$event","title","onOk","handleSubmit","_component_b_form","onSubmit","_withModifiers","_component_b_form_group","label","_component_b_form_input","newProduct","required","description","due_date","type","_component_b_form_select","status","options","statusOptions","_component_b_form_file","videoFile"],"sources":["C:\\xampp\\htdocs\\assessment_test\\mystaff_frontend\\src\\components\\Modal\\AddModal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-button @click=\"showModal\">Add New Product</b-button>\r\n    <b-modal id=\"add-product-modal\" v-model=\"isModalVisible\" title=\"Add New Product\" @ok=\"handleSubmit\">\r\n      <b-form @submit.stop.prevent=\"handleSubmit\">\r\n        <b-form-group label=\"Title\" label-for=\"product-title\">\r\n          <b-form-input id=\"product-title\" v-model=\"newProduct.title\" required></b-form-input>\r\n        </b-form-group>\r\n        <b-form-group label=\"Description\" label-for=\"product-description\">\r\n          <b-form-input id=\"product-description\" v-model=\"newProduct.description\" required></b-form-input>\r\n        </b-form-group>\r\n        <b-form-group label=\"Due Date\" label-for=\"product-due-date\">\r\n          <b-form-input id=\"product-due-date\" v-model=\"newProduct.due_date\" type=\"date\" required></b-form-input>\r\n        </b-form-group>\r\n        <b-form-group label=\"Status\" label-for=\"product-status\">\r\n          <b-form-select id=\"product-status\" v-model=\"newProduct.status\" :options=\"statusOptions\" required></b-form-select>\r\n        </b-form-group>\r\n        <b-form-group label=\"Video\" label-for=\"product-video\">\r\n          <b-form-file id=\"product-video\" v-model=\"videoFile\" required></b-form-file>\r\n        </b-form-group>\r\n      </b-form>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport Swal from 'sweetalert2';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  setup() {\r\n    const newProduct = ref({\r\n      title: '',\r\n      description: '',\r\n      due_date: '',\r\n      status: ''\r\n    });\r\n    const statusOptions = ref([\r\n      { value: '1', text: 'Active' },\r\n      { value: '0', text: 'Expired' }\r\n    ]);\r\n    const videoFile = ref(null);\r\n    const isModalVisible = ref(false);\r\n\r\n    const showModal = () => {\r\n      isModalVisible.value = true;\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('title', newProduct.value.title);\r\n        formData.append('description', newProduct.value.description);\r\n        formData.append('due_date', newProduct.value.due_date);\r\n        formData.append('status', newProduct.value.status);\r\n        formData.append('video', videoFile.value);\r\n\r\n        const response = await axios.post('/api/videos', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          },\r\n          onUploadProgress: progressEvent => {\r\n            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n            console.log('Upload progress: ', percentCompleted);\r\n          }\r\n        });\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Success',\r\n          text: response.data.message,\r\n          confirmButtonText: 'OK',\r\n        });\r\n        resetForm();\r\n      } catch (error) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response?.data?.message || 'An error occurred'\r\n        });\r\n      }\r\n    };\r\n\r\n    const resetForm = () => {\r\n      newProduct.value = {\r\n        title: '',\r\n        description: '',\r\n        due_date: '',\r\n        status: ''\r\n      };\r\n      videoFile.value = null;\r\n      isModalVisible.value = false;\r\n    };\r\n\r\n    return {\r\n      newProduct,\r\n      statusOptions,\r\n      videoFile,\r\n      isModalVisible,\r\n      showModal,\r\n      handleSubmit,\r\n      resetForm\r\n    };\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}