{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Video List\", -1 /* HOISTED */);\nexport function render(_ctx, _cache) {\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_col = _resolveComponent(\"b-col\");\n  const _component_b_row = _resolveComponent(\"b-row\");\n  const _component_AddModal = _resolveComponent(\"AddModal\");\n  const _component_EditModal = _resolveComponent(\"EditModal\");\n  const _component_b_container = _resolveComponent(\"b-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_b_container, null, {\n    default: _withCtx(() => [_createVNode(_component_b_row, {\n      class: \"mb-3\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_b_col, null, {\n        default: _withCtx(() => [_hoisted_2, _createVNode(_component_b_button, {\n          size: \"md\",\n          variant: \"success\",\n          class: \"float-start\",\n          onClick: _ctx.showModal\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Add New Video\")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_b_button, {\n          size: \"md\",\n          variant: \"danger\",\n          class: \"float-end\",\n          onClick: _ctx.logout\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Logout\")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_row, null, {\n      default: _withCtx(() => [_createVNode(_component_b_col)]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_AddModal, {\n      ref: \"addModal\",\n      onAddProduct: _ctx.addVideo\n    }, null, 8 /* PROPS */, [\"onAddProduct\"]), _createVNode(_component_EditModal, {\n      editedItem: _ctx.editedItem,\n      showEditModal: _ctx.showEditModal,\n      statusOptions: _ctx.statusOptions,\n      onSubmitEdit: _ctx.updateEditedItem,\n      onCancelEdit: _ctx.closeEditModal\n    }, null, 8 /* PROPS */, [\"editedItem\", \"showEditModal\", \"statusOptions\", \"onSubmitEdit\", \"onCancelEdit\"])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["id","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_b_container","default","_withCtx","_component_b_row","class","_component_b_col","_hoisted_2","_component_b_button","size","variant","onClick","_ctx","showModal","_createTextVNode","_","logout","_component_AddModal","ref","onAddProduct","addVideo","_component_EditModal","editedItem","showEditModal","statusOptions","onSubmitEdit","updateEditedItem","onCancelEdit","closeEditModal"],"sources":["C:\\xampp\\htdocs\\assessment_test\\mystaff_frontend\\src\\components\\Main.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <b-container>\r\n      <b-row class=\"mb-3\">\r\n        <b-col>\r\n          <h1>Video List</h1>\r\n          <b-button size=\"md\" variant=\"success\" class=\"float-start\" @click=\"showModal\">Add New Video</b-button>\r\n          <b-button size=\"md\" variant=\"danger\" class=\"float-end\" @click=\"logout\">Logout</b-button>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n  \r\n        </b-col>\r\n      </b-row>\r\n      <AddModal ref=\"addModal\" @add-product=\"addVideo\"/>\r\n      <EditModal\r\n          :editedItem=\"editedItem\"\r\n          :showEditModal=\"showEditModal\"\r\n          :statusOptions=\"statusOptions\"\r\n          @submit-edit=\"updateEditedItem\"\r\n          @cancel-edit=\"closeEditModal\"\r\n      />\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddModal from \"@/components/Modal/AddModal.vue\";\r\nimport EditModal from \"@/components/Modal/EditModal.vue\";\r\nimport { mapState, mapActions } from 'vuex';\r\nimport Swal from 'sweetalert2';\r\nimport AuthService from \"../../AuthService\";\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {AddModal, EditModal },\r\n  data() {\r\n    return {\r\n      fields: [\r\n        { key: 'id', label: 'ID' },\r\n        { key: 'title', label: 'Title' },\r\n        { key: 'description', label: 'Description' },\r\n        { key: 'due_date', label: 'Due Date' },\r\n        { key: 'status', label: 'Status' },\r\n        { key: 'actions', label: 'Actions' }\r\n      ],\r\n      statusOptions: [\r\n        { value: 1, text: 'Active' },\r\n        { value: 0, text: 'Expired' }\r\n      ],\r\n      showEditModal: false,\r\n      editedItem: {}\r\n    }\r\n  },\r\n  computed: {\r\n  //   ...mapState({\r\n  //     products: state => state.products\r\n  //   }),\r\n  //   productsWithStatus() {\r\n  //     return this.products.map(product => ({\r\n  //       ...product,\r\n  //       status: this.mapStatus(product.status)\r\n  //     }));\r\n  //   },\r\n  //   isAdmin() {\r\n  //     const user = AuthService.getUser();\r\n  //     return user && user.roles === 'admin';\r\n  //   }\r\n  // },\r\n  methods: {\r\n    // ...mapActions(['getProducts', 'updateProduct', 'logout']),\r\n    ...mapActions(['logout']),\r\n    showModal() {\r\n      this.$refs.addModal.showModal();\r\n    },\r\n    // openEditModal(item) {\r\n    //   this.editedItem = {...item};\r\n    //   this.showEditModal = true;\r\n    // },\r\n    closeEditModal() {\r\n      this.showEditModal = false;\r\n    },\r\n\r\n    // async updateEditedItem(updatedItem) {\r\n    //   try {\r\n    //     const response = await this.updateProduct(updatedItem);\r\n    //     const index = this.products.findIndex(p => p.id === response.id);\r\n    //     if (index !== -1) {\r\n    //       this.$store.commit('UPDATE_PRODUCT', response);\r\n    //     }\r\n    //     this.showEditModal = false;\r\n    //   } catch (error) {\r\n    //     console.error('Error updating product:', error);\r\n    //     Swal.fire({\r\n    //       title: 'Error!',\r\n    //       text: 'Failed to update product',\r\n    //       icon: 'error',\r\n    //       confirmButtonText: 'OK'\r\n    //     });\r\n    //   }\r\n    // },\r\n    // async deleteProduct(id) {\r\n    //   try {\r\n    //     console.log('Deleting product with id:', id);\r\n    //     await this.$store.dispatch('deleteProduct', id);\r\n    //     Swal.fire({\r\n    //       title: 'Success!',\r\n    //       text: 'Product successfully deleted',\r\n    //       icon: 'success',\r\n    //       confirmButtonText: 'OK'\r\n    //     });\r\n    //   } catch (error) {\r\n    //     console.error('Error deleting product:', error);\r\n    //   }\r\n    // },\r\n    addProduct(newProduct) {\r\n      this.$store.commit('ADD_PRODUCT', newProduct);\r\n    },\r\n    mapStatus(status) {\r\n      return status === 1 ? 'active' : 'expired';\r\n    },\r\n    async logout() {\r\n      try {\r\n        await this.$store.dispatch('logout');\r\n        AuthService.removeToken();\r\n        AuthService.removeUser();\r\n        Swal.fire({\r\n          title: 'Logged Out',\r\n          text: 'You have been successfully logged out.',\r\n          icon: 'success',\r\n          confirmButtonText: 'OK'\r\n        }).then(() => {\r\n          this.$router.push('/login');\r\n        });\r\n      } catch (error) {\r\n        console.error('Error logging out:', error);\r\n        Swal.fire({\r\n          title: 'Error!',\r\n          text: 'Failed to logout',\r\n          icon: 'error',\r\n          confirmButtonText: 'OK'\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,EAAE,EAAC;AAAK;gCAILC,mBAAA,CAAmB,YAAf,YAAU;;;;;;;;uBAJtBC,mBAAA,CAuBM,OAvBNC,UAuBM,GAtBJC,YAAA,CAqBcC,sBAAA;IAvBlBC,OAAA,EAAAC,QAAA,CAGM,MAMQ,CANRH,YAAA,CAMQI,gBAAA;MANDC,KAAK,EAAC;IAAM;MAHzBH,OAAA,EAAAC,QAAA,CAIQ,MAIQ,CAJRH,YAAA,CAIQM,gBAAA;QARhBJ,OAAA,EAAAC,QAAA,CAKU,MAAmB,CAAnBI,UAAmB,EACnBP,YAAA,CAAqGQ,mBAAA;UAA3FC,IAAI,EAAC,IAAI;UAACC,OAAO,EAAC,SAAS;UAACL,KAAK,EAAC,aAAa;UAAEM,OAAK,EAAEC,IAAA,CAAAC;;UAN5EX,OAAA,EAAAC,QAAA,CAMuF,MAAa,CANpGW,gBAAA,CAMuF,eAAa,E;UANpGC,CAAA;wCAOUf,YAAA,CAAwFQ,mBAAA;UAA9EC,IAAI,EAAC,IAAI;UAACC,OAAO,EAAC,QAAQ;UAACL,KAAK,EAAC,WAAW;UAAEM,OAAK,EAAEC,IAAA,CAAAI;;UAPzEd,OAAA,EAAAC,QAAA,CAOiF,MAAM,CAPvFW,gBAAA,CAOiF,QAAM,E;UAPvFC,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;QAUMf,YAAA,CAIQI,gBAAA;MAddF,OAAA,EAAAC,QAAA,CAWQ,MAEQ,CAFRH,YAAA,CAEQM,gBAAA,E;MAbhBS,CAAA;QAeMf,YAAA,CAAkDiB,mBAAA;MAAxCC,GAAG,EAAC,UAAU;MAAEC,YAAW,EAAEP,IAAA,CAAAQ;+CACvCpB,YAAA,CAMEqB,oBAAA;MALGC,UAAU,EAAEV,IAAA,CAAAU,UAAU;MACtBC,aAAa,EAAEX,IAAA,CAAAW,aAAa;MAC5BC,aAAa,EAAEZ,IAAA,CAAAY,aAAa;MAC5BC,YAAW,EAAEb,IAAA,CAAAc,gBAAgB;MAC7BC,YAAW,EAAEf,IAAA,CAAAgB;;IArBxBb,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}