{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_form_file = _resolveComponent(\"b-form-file\");\n  const _component_b_form_group = _resolveComponent(\"b-form-group\");\n  const _component_b_form = _resolveComponent(\"b-form\");\n  const _component_b_modal = _resolveComponent(\"b-modal\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_b_button, {\n    onClick: $setup.showModal\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Add New Product\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_b_modal, {\n    id: \"add-product-modal\",\n    modelValue: $setup.isModalVisible,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.isModalVisible = $event),\n    title: \"Add New Product\",\n    onOk: $setup.handleSubmit\n  }, {\n    default: _withCtx(() => [_createVNode(_component_b_form, {\n      onSubmit: _withModifiers($setup.handleSubmit, [\"stop\", \"prevent\"])\n    }, {\n      default: _withCtx(() => [_createVNode(_component_b_form_group, {\n        label: \"Video\",\n        \"label-for\": \"product-video\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_b_form_file, {\n          id: \"product-video\",\n          modelValue: $setup.videoFile,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.videoFile = $event),\n          required: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onSubmit\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"onOk\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_b_button","onClick","$setup","showModal","default","_withCtx","_createTextVNode","_","_component_b_modal","id","modelValue","isModalVisible","_cache","$event","title","onOk","handleSubmit","_component_b_form","onSubmit","_withModifiers","_component_b_form_group","label","_component_b_form_file","videoFile","required"],"sources":["C:\\xampp\\htdocs\\assessment_test\\mystaff_frontend\\src\\components\\Modal\\AddModal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-button @click=\"showModal\">Add New Product</b-button>\r\n    <b-modal id=\"add-product-modal\" v-model=\"isModalVisible\" title=\"Add New Product\" @ok=\"handleSubmit\">\r\n      <b-form @submit.stop.prevent=\"handleSubmit\">\r\n        <b-form-group label=\"Video\" label-for=\"product-video\">\r\n          <b-form-file id=\"product-video\" v-model=\"videoFile\" required></b-form-file>\r\n        </b-form-group>\r\n      </b-form>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default {\r\n  setup() {\r\n    const isModalVisible = ref(false);\r\n    const videoFile = ref(null);\r\n\r\n    const showModal = () => {\r\n      isModalVisible.value = true;\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('video', videoFile.value);\r\n\r\n        const response = await axios.post('/api/videos', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          },\r\n          onUploadProgress: progressEvent => {\r\n            const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n            console.log('Upload progress: ', percentCompleted);\r\n          }\r\n        });\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Success',\r\n          text: response.data.message,\r\n          confirmButtonText: 'OK',\r\n        });\r\n        resetForm();\r\n      } catch (error) {\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response?.data?.message || 'An error occurred'\r\n        });\r\n      }\r\n    };\r\n\r\n    const resetForm = () => {\r\n      videoFile.value = null;\r\n      isModalVisible.value = false;\r\n    };\r\n\r\n    return {\r\n      isModalVisible,\r\n      videoFile,\r\n      showModal,\r\n      handleSubmit,\r\n      resetForm,\r\n    };\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";;;;;;;uBACEA,mBAAA,CASM,cARJC,YAAA,CAAuDC,mBAAA;IAA5CC,OAAK,EAAEC,MAAA,CAAAC;EAAS;IAF/BC,OAAA,EAAAC,QAAA,CAEiC,MAAe,CAFhDC,gBAAA,CAEiC,iBAAe,E;IAFhDC,CAAA;kCAGIR,YAAA,CAMUS,kBAAA;IANDC,EAAE,EAAC,mBAAmB;IAHnCC,UAAA,EAG6CR,MAAA,CAAAS,cAAc;IAH3D,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAG6CX,MAAA,CAAAS,cAAc,GAAAE,MAAA;IAAEC,KAAK,EAAC,iBAAiB;IAAEC,IAAE,EAAEb,MAAA,CAAAc;;IAH1FZ,OAAA,EAAAC,QAAA,CAIM,MAIS,CAJTN,YAAA,CAISkB,iBAAA;MAJAC,QAAM,EAJrBC,cAAA,CAIoCjB,MAAA,CAAAc,YAAY;;MAJhDZ,OAAA,EAAAC,QAAA,CAKQ,MAEe,CAFfN,YAAA,CAEeqB,uBAAA;QAFDC,KAAK,EAAC,OAAO;QAAC,WAAS,EAAC;;QAL9CjB,OAAA,EAAAC,QAAA,CAMU,MAA2E,CAA3EN,YAAA,CAA2EuB,sBAAA;UAA9Db,EAAE,EAAC,eAAe;UANzCC,UAAA,EAMmDR,MAAA,CAAAqB,SAAS;UAN5D,uBAAAX,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAMmDX,MAAA,CAAAqB,SAAS,GAAAV,MAAA;UAAEW,QAAQ,EAAR;;QAN9DjB,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}